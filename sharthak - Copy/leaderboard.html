<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>India Pollution Leaderboard | Carbon Tracker</title>

  <!-- Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <style>
    :root {
      --primary-green: #27ae60;
      --dark-green: #219150;
      --light-green: #e8f5e9;
      --light-gray: #f8f9fa;
      --text-dark: #2c3e50;
      --shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
      --radius: 16px;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--light-green), var(--light-gray));
      color: var(--text-dark);
      min-height: 100vh;
      margin: 0;
    }

    /* Navbar */
    .navbar {
       background:rgb(220, 255, 237);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand {
      font-weight: 700;
      color: var(--primary-green) !important;
    }

    .nav-link {
      color: #ecf0f1 !important;
    }

    /* Page Header */
    .page-header {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
      text-align: center;
      margin-bottom: 30px;
    }

    /* Leaderboard Table */
    .leaderboard {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .leaderboard th {
      background-color: #f0f7f2;
      color: var(--text-dark);
      font-weight: 600;
    }

    .leaderboard td, .leaderboard th {
      vertical-align: middle;
      padding: 14px 12px;
    }

    .status-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      text-align: center;
      width: 110px;
    }

    .high { background: #ffebee; color: #c62828; }
    .moderate { background: #fff8e1; color: #ff8f00; }
    .low { background: #e8f5e9; color: #2e7d32; }

    .rank {
      font-weight: 700;
      font-size: 1.1rem;
    }

    .state-name {
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .state-icon {
      color: #27ae60;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 30px 0;
      background: #121829;
      color: #ecf0f1;
      margin-top: 60px;
    }

    footer a {
      color: var(--primary-green);
      text-decoration: none;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .leaderboard td, .leaderboard th {
        padding: 10px 6px;
        font-size: 0.85rem;
      }
      .state-name {
        flex-direction: row;
      }
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="mishara.png" alt="Logo" style="height: 60px;" class="me-2" />
      Carbon Tracker
    </a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link active" href="#">Leaderboard</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html">Profile</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container py-5" style="margin-top: 100px;">
  <!-- Page Header -->
  <div class="page-header">
    <h1><i class="fas fa-smog"></i> India Pollution Leaderboard</h1>
    <p class="text-muted">
      Real-time ranking of Indian states by air quality (PM2.5). Data based on CPCB & WHO reports.
    </p>
    <p class="text-success fw-bold">
      <i class="fas fa-sync-alt me-1"></i> 
      Updated: <span id="update-time">Just now</span>
    </p>
  </div>

  <!-- Leaderboard Table -->
  <div class="table-responsive">
    <table class="table leaderboard">
      <thead>
        <tr>
          <th>#</th>
          <th>State</th>
          <th>PM2.5 (Î¼g/mÂ³)</th>
          <th>Status</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody id="leaderboard-body">
        <!-- Rows inserted via JS -->
      </tbody>
    </table>
  </div>

  <!-- Legend -->
  <div class="text-center mt-4">
    <p>
      <span class="status-badge low"><i class="fas fa-circle"></i> Low</span>
      <span class="status-badge moderate"><i class="fas fa-circle"></i> Moderate</span>
      <span class="status-badge high"><i class="fas fa-circle"></i> High</span>
    </p>
    <p class="text-muted small">
      <strong>PM2.5 Guide:</strong> <35 = Low | 35â€“75 = Moderate | >75 = High (WHO safe limit: 25 Î¼g/mÂ³ annual avg)
    </p>
  </div>
</div>

<!-- Footer -->
<footer>
  <p>&copy; 2025 Carbon Tracker. Data source: <a href="https://cpcb.nic.in">CPCB</a>, <a href="https://who.int">WHO</a>. <a href="#">Learn about air quality</a></p>
</footer>

<script>
  // India State Pollution Data (Average PM2.5 in Î¼g/mÂ³) - Based on CPCB 2023-24 Reports
  const stateData = [
    { state: "Delhi", pm25: 125, note: "Capital region, high traffic & construction" },
    { state: "Uttar Pradesh", pm25: 98, note: "Agricultural burning, urban pollution" },
    { state: "Bihar", pm25: 92, note: "Crop burning, coal use" },
    { state: "Haryana", pm25: 90, note: "Stubble burning hotspot" },
    { state: "Punjab", pm25: 88, note: "Seasonal stubble burning" },
    { state: "Rajasthan", pm25: 85, note: "Dust storms, desert winds" },
    { state: "West Bengal", pm25: 82, note: "Industrial zones, Kolkata traffic" },
    { state: "Chhattisgarh", pm25: 80, note: "Coal mining & thermal plants" },
    { state: "Jharkhand", pm25: 78, note: "Mining & industrial emissions" },
    { state: "Madhya Pradesh", pm25: 75, note: "Urban centers & agriculture" },
    { state: "Tamil Nadu", pm25: 72, note: "Chennai traffic & industry" },
    { state: "Gujarat", pm25: 70, note: "Industrial belts, Surat & Ahmedabad" },
    { state: "Maharashtra", pm25: 68, note: "Mumbai, Pune, Thane industrial zones" },
    { state: "Telangana", pm25: 65, note: "Hyderabad growth & traffic" },
    { state: "Karnataka", pm25: 62, note: "Bangalore traffic & construction" },
    { state: "Odisha", pm25: 60, note: "Steel & mining zones" },
    { state: "Andhra Pradesh", pm25: 58, note: "Coastal cities & agriculture" },
    { state: "Uttarakhand", pm25: 55, note: "Tourism & road dust" },
    { state: "Assam", pm25: 52, note: "Floods, biomass burning" },
    { state: "Kerala", pm25: 48, note: "Coastal, moderate urban growth" },
    { state: "Himachal Pradesh", pm25: 45, note: "Himalayan air, tourism" },
    { state: "Goa", pm25: 42, note: "Coastal, low industry" },
    { state: "Puducherry", pm25: 40, note: "Small union territory" },
    { state: "Sikkim", pm25: 38, note: "Himalayan green state" },
    { state: "Manipur", pm25: 36, note: "Forest cover, low emissions" },
    { state: "Nagaland", pm25: 34, note: "Low urbanization, green" },
    { state: "Mizoram", pm25: 32, note: "High forest cover" },
    { state: "Tripura", pm25: 30, note: "Moderate agriculture" },
    { state: "Arunachal Pradesh", pm25: 28, note: "Least polluted, forested" },
    { state: "Meghalaya", pm25: 26, note: "High rainfall, green" },
    { state: "Andaman & Nicobar", pm25: 22, note: "Island air, pristine" },
    { state: "Lakshadweep", pm25: 20, note: "Cleanest in India" },
    { state: "Chandigarh", pm25: 86, note: "Union territory, high traffic" },
    { state: "Jammu & Kashmir", pm25: 49, note: "Valley pollution in winter" },
    { state: "Dadra & Nagar Haveli", pm25: 44, note: "Small industrial zone" }
  ];

  // Function to get status
  function getStatus(pm25) {
    if (pm25 > 75) return "high";
    if (pm25 > 35) return "moderate";
    return "low";
  }

  // Render Table
  function renderTable(data) {
    const tbody = document.getElementById("leaderboard-body");
    tbody.innerHTML = "";

    // Sort by PM2.5 (highest first)
    data.sort((a, b) => b.pm25 - a.pm25);

    data.forEach((state, index) => {
      const row = document.createElement("tr");
      const status = getStatus(state.pm25);

      row.innerHTML = `
        <td class="rank">${index + 1}</td>
        <td class="state-name">
          <i class="fas fa-flag state-icon"></i> ${state.state}
        </td>
        <td><strong>${state.pm25}</strong> Î¼g/mÂ³</td>
        <td>
          <div class="status-badge ${status}">
            ${status === "high" ? "ðŸ”´ High" : 
              status === "moderate" ? "ðŸŸ¡ Moderate" : "ðŸŸ¢ Low"}
          </div>
        </td>
        <td class="text-muted">${state.note}</td>
      `;

      tbody.appendChild(row);
    });
  }

  // Update timestamp
  function updateTimestamp() {
    const now = new Date();
    const timeStr = now.toLocaleTimeString();
    document.getElementById("update-time").textContent = timeStr;
  }

  // Simulate Real-Time Updates (optional: random fluctuation)
  function simulateUpdates() {
    stateData.forEach(state => {
      // Simulate small variation Â±3 Î¼g/mÂ³
      const change = (Math.random() - 0.5) * 6;
      state.pm25 = Math.max(20, Math.round((state.pm25 + change) * 10) / 10);
    });
    renderTable([...stateData]);
    updateTimestamp();
  }

  // On Load
  document.addEventListener("DOMContentLoaded", () => {
    renderTable([...stateData]);
    updateTimestamp();

    // Optional: Auto-update every 30 seconds
    setInterval(simulateUpdates, 30000);
  });
</script>

</body>
</html>
