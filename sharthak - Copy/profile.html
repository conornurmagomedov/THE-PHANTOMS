<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Profile | Carbon Tracker</title>

  <!-- Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <style>
    :root {
      --primary-green: #27ae60;
      --dark-green: #219150;
      --light-green: #e8f5e9;
      --light-gray: #f8f9fa;
      --text-dark: #2c3e50;
      --shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
      --radius: 16px;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--light-green), var(--light-gray));
      color: var(--text-dark);
      min-height: 100vh;
      margin: 0;
    }

    /* Navbar */
    .navbar {
        background:rgb(220, 255, 237);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand {
      font-weight: 700;
      color: var(--primary-green) !important;
    }

    .nav-link {
      color: #ecf0f1 !important;
    }

    /* Profile Card */
    .profile-card {
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: #ffffff;
      overflow: hidden;
      transition: transform 0.3s ease;
    }

    .profile-card:hover {
      transform: translateY(-6px);
    }

    .profile-header {
      background: var(--primary-green);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .profile-pic {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 5px solid white;
      background: #fff;
      object-fit: cover;
      margin: 0 auto 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .profile-body {
      padding: 30px;
    }

    .stat-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px dashed #eee;
      font-size: 0.95rem;
    }

    .stat-item:last-child {
      border-bottom: none;
    }

    /* Badges Section */
    .badge-item {
      display: inline-block;
      margin: 8px;
      padding: 12px 18px;
      border-radius: 12px;
      background: #f0f7f2;
      border: 2px solid #d8efdd;
      text-align: center;
      min-width: 100px;
      transition: all 0.3s ease;
    }

    .badge-item:hover {
      transform: scale(1.05);
      border-color: var(--primary-green);
      background: #e8f5e9;
    }

    .badge-icon {
      font-size: 1.8rem;
      color: var(--primary-green);
      margin-bottom: 6px;
    }

    .badge-title {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text-dark);
    }

    .badge-desc {
      font-size: 0.8rem;
      color: #7f8c8d;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 30px 0;
      background: #121829;
      color: #ecf0f1;
      margin-top: 60px;
    }

    footer a {
      color: var(--primary-green);
      text-decoration: none;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="mishara.png" alt="Logo" style="height: 60px;" class="me-2" />
      Carbon Tracker
    </a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link active" href="#">Profile</a></li>
        <li class="nav-item"><a class="nav-link" href="logout.html">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Profile -->
<div class="container py-5" style="margin-top: 100px;">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <!-- Profile Card -->
      <div class="profile-card">
        <div class="profile-header">
          <img src="/1744877511069.jpg" alt="Profile" class="profile-pic" id="profile-pic" />
          <h3 id="user-name">NAWAZ KHAN</h3>
          <p id="user-email" class="text-white-50">—</p>
        </div>

        <div class="profile-body">
          <!-- Stats -->
          <h5><i class="fas fa-chart-line"></i> Your Impact</h5>
          <div class="mt-3">
            <div class="stat-item">
              <span>Total CO₂ Saved</span>
              <strong id="co2-saved">1,240 kg</strong>
            </div>
            <div class="stat-item">
              <span>Habits Tracked</span>
              <strong id="habits-count">2</strong>
            </div>
            <div class="stat-item">
              <span>Days Active</span>
              <strong id="days-active">1</strong>
            </div>
            <div class="stat-item">
              <span>Last Updated</span>
              <strong id="last-active">Today</strong>
            </div>
          </div>

          <hr />

          <!-- Badges -->
          <h5><i class="fas fa-certificate"></i> Achievements</h5>
          <div class="mt-3 text-center" id="badges-container">
            <!-- Badges will be inserted here -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer>
  <p>&copy; 2025 Carbon Tracker. Every action counts. <a href="#">Learn more</a></p>
</footer>

<script>
  // Load user from localStorage
  document.addEventListener("DOMContentLoaded", function () {
    const user = JSON.parse(localStorage.getItem("currentUser"));

    if (!user) {
      alert("You must be logged in to view your profile.");
      window.location.href = "auth.html";
    } else {
      document.getElementById("user-name").textContent = user.name || "User";
      document.getElementById("user-email").textContent = user.email || "—";
    }

    // Mock Stats (you can replace with real data)
    document.getElementById("co2-saved").textContent = "1,240 kg";
    document.getElementById("habits-count").textContent = "42";
    document.getElementById("days-active").textContent = "128";
    document.getElementById("last-active").textContent = "Today";

    // Define Badges
    const badges = [
      {
        icon: "fas fa-leaf",
        title: "Eco Starter",
        desc: "Completed 10 habits",
        earned: true
      },
      {
        icon: "fas fa-bicycle",
        title: "Green Commuter",
        desc: "30 days of low-travel",
        earned: true
      },
      {
        icon: "fas fa-apple-alt",
        title: "Plant-Based Pro",
        desc: "10 vegan meals logged",
        earned: true
      },
      {
        icon: "fas fa-recycle",
        title: "Recycler",
        desc: "Waste under 5kg/month",
        earned: true
      },
      {
        icon: "fas fa-trophy",
        title: "Carbon Hero",
        desc: "Saved 1000kg CO₂",
        earned: true
      },
      {
        icon: "fas fa-star",
        title: "Streak Master",
        desc: "60-day habit streak",
        earned: false  // Locked
      }
    ];

    const badgesContainer = document.getElementById("badges-container");

    badges.forEach(badge => {
      const badgeEl = document.createElement("div");
      badgeEl.className = "badge-item";
      if (!badge.earned) {
        badgeEl.style.opacity = "0.5";
        badgeEl.title = "Locked: Keep going!";
      }

      badgeEl.innerHTML = `
        <i class="${badge.icon} badge-icon"></i>
        <div class="badge-title">${badge.title}</div>
        <div class="badge-desc">${badge.desc}</div>
      `;

      badgesContainer.appendChild(badgeEl);
    });
  });
</script>

</body>
</html>
